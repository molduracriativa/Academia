<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sistema com Moldura + Círculos</title>

<style>
/* ============================
   SEU CSS ORIGINAL AQUI
   (NÃO MUDE NADA)
=============================== */
  
/* COLE AQUI SEU CSS ORIGINAL */


/* ============================
   CÍRCULOS (NOVO)
=============================== */
#circles-container {
  position: absolute;
  top: 50%;
  right: 130px; /* ~3cm */
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 14px;
  z-index: 9999;
}

.circle {
  width: 26px;
  height: 26px;
  border: 3px solid white;
  border-radius: 50%;
  cursor: pointer;
  background: transparent;
  transition: 0.2s;
}

.circle.filled {
  background: white;
}
</style>
</head>
<body>

<!-- ============================
     SEU HTML ORIGINAL COMPLETO
     SEM ALTERAR NADA
=============================== -->

<!-- COLE AQUI TODO O SEU HTML ORIGINAL -->


<!-- ============================
     CÍRCULOS (NOVO)
=============================== -->
<div id="circles-container">
  <div class="circle" data-id="1"></div>
  <div class="circle" data-id="2"></div>
  <div class="circle" data-id="3"></div>
  <div class="circle" data-id="4"></div>
  <div class="circle" data-id="5"></div>
  <div class="circle" data-id="6"></div>
  <div class="circle" data-id="7"></div>
</div>

<script>
/* ============================
   SEU SCRIPT ORIGINAL AQUI
=============================== */

/* COLE AQUI SEU JS ORIGINAL */


// ===========================
// CÍRCULOS – clique
// ===========================
document.querySelectorAll(".circle").forEach(c => {
  c.addEventListener("click", () => {
    c.classList.toggle("filled");
  });
});


// ===========================
// ADICIONAR CÍRCULOS NA FOTO FINAL
// (insira este bloco dentro da função onde você já salva a foto)
// ===========================
function drawCirclesInPhoto(ctx, canvas) {
    document.querySelectorAll(".circle").forEach(c => {
        const rect = c.getBoundingClientRect();
        const base = canvas.getBoundingClientRect();
        const x = rect.left - base.left;
        const y = rect.top - base.top;

        ctx.strokeStyle = "white";
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.arc(x + 13, y + 13, 13, 0, Math.PI * 2);
        ctx.stroke();

        if (c.classList.contains("filled")) {
            ctx.fillStyle = "white";
            ctx.beginPath();
            ctx.arc(x + 13, y + 13, 13, 0, Math.PI * 2);
            ctx.fill();
        }
    });
}


// ===========================
// ADICIONAR CÍRCULOS NO VÍDEO FINAL
// (insira dentro do loop de renderização do vídeo final)
// ===========================
function drawCirclesInVideo(videoCtx, videoCanvas) {
    document.querySelectorAll(".circle").forEach(c => {
        const rect = c.getBoundingClientRect();
        const base = videoCanvas.getBoundingClientRect();
        const x = rect.left - base.left;
        const y = rect.top - base.top;

        videoCtx.strokeStyle = "white";
        videoCtx.lineWidth = 3;
        videoCtx.beginPath();
        videoCtx.arc(x + 13, y + 13, 13, 0, Math.PI * 2);
        videoCtx.stroke();

        if (c.classList.contains("filled")) {
            videoCtx.fillStyle = "white";
            videoCtx.beginPath();
            videoCtx.arc(x + 13, y + 13, 13, 0, Math.PI * 2);
            videoCtx.fill();
        }
    });
}
</script>
</body>
</html>
